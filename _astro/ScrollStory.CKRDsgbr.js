import{j as e}from"./jsx-runtime.CYiYLu1p.js";import{r}from"./index.CZlPm10g.js";const v=({slides:l,height:h="400vh"})=>{const[o,m]=r.useState(0),[i,g]=r.useState(!1),n=r.useRef([]);return r.useEffect(()=>{const t=()=>{g(window.innerWidth<1024)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r.useEffect(()=>{if(i)return;const t={root:null,rootMargin:"-50% 0px -50% 0px",threshold:0},s=c=>{c.forEach(x=>{if(x.isIntersecting){const d=n.current.indexOf(x.target);d!==-1&&m(d)}})},a=new IntersectionObserver(s,t);return n.current.forEach(c=>{c&&a.observe(c)}),()=>{a.disconnect()}},[i]),i?e.jsx("div",{className:"scroll-story-mobile",children:l.map((t,s)=>e.jsx("section",{className:"section py-16 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-accent",children:t.title}),e.jsx("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-300",children:t.description})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:t.image,alt:t.imageAlt,className:"max-w-full max-h-[60vh] object-contain",loading:s===0?"eager":"lazy"})})]})})},t.id))}):e.jsx("div",{className:"scroll-story-container bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"lg:sticky lg:top-0 lg:h-screen flex items-center justify-center py-16",children:e.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:l.map((t,s)=>e.jsx("div",{className:"absolute transition-opacity duration-700 ease-in-out",style:{opacity:o===s?1:0,pointerEvents:o===s?"auto":"none"},children:e.jsx("img",{src:t.image,alt:t.imageAlt,className:"max-w-full max-h-[80vh] object-contain",loading:s===0?"eager":"lazy"})},t.id))})}),e.jsx("div",{className:"flex flex-col",children:l.map((t,s)=>e.jsx("div",{ref:a=>n.current[s]=a,className:"min-h-screen flex items-center py-16",children:e.jsxs("div",{className:"w-full",children:[e.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-8 text-accent",children:t.title}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-700 dark:text-gray-300",children:t.description})]})},`text-${t.id}`))})]})})})};export{v as default};
